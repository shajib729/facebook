{"version":3,"sources":["context/AuthReducer.jsx","context/AuthContext.jsx","componetns/signup/Signup.jsx","componetns/login/Login.jsx","componetns/topbar/Topbar.jsx","componetns/share/Share.jsx","dummyData.js","componetns/post/Post.jsx","componetns/feed/Feed.jsx","componetns/online/Online.jsx","componetns/righbar/FollowButton.jsx","componetns/righbar/Righbar.jsx","componetns/closeFriend/CloseFriend.jsx","componetns/sidebar/Sidebar.jsx","pages/home/Home.jsx","pages/profile/Profile.jsx","componetns/private/PrivateRoute.js","componetns/private/RouterLinks.jsx","componetns/conversation/Conversation.jsx","componetns/message/Message.jsx","componetns/chatOnline/ChatOnline.jsx","componetns/messenger/Messenger.jsx","componetns/error/Error.jsx","App.js","index.js"],"names":["AuthReducer","state","action","type","user","token","isFecthing","error","payload","id","localStorage","removeItem","INITIAL_STATE","message","verifyToken","decodeToken","jwtDecode","expiresIn","Date","exp","getItem","decoded","AuthContext","createContext","AuthContextProvider","children","useReducer","dispatch","useEffect","console","log","Provider","value","Signup","handlePopup","setHandlePopup","useContext","useState","username","email","password","cpassword","date","values","setValues","handleChange","e","target","name","handleSubmit","a","preventDefault","fetch","method","headers","body","JSON","stringify","res","json","data","status","toast","success","style","padding","color","fontSize","background","iconTheme","primary","secondary","setTimeout","setItem","showPasword","setShowPasword","className","Close","onClick","onSubmit","autoComplete","TextField","label","variant","onChange","FormControlLabel","control","Checkbox","icon","VisibilityOff","checkedIcon","Visibility","InputLabelProps","shrink","Login","useHistory","position","reverseOrder","Helmet","to","Topbar","authUser","setAuthUser","logout","getUser","window","scrollTo","Search","placeholder","Person","Chat","Notifications","now","src","profilePicture","alt","Share","desc","file","posts","setPosts","handleFile","files","URL","createObjectURL","handleForm","formData","FormData","append","heades","isFecting","_id","userSelect","split","enctype","marginBottom","cursor","htmlFor","PermMedia","htmlColor","display","accept","Label","EmojiEmotions","maxWidth","Users","Post","post","rootUser","likes","length","like","setLike","includes","toString","isLike","setIsLike","likeHandler","userId","moment","updatedAt","fromNow","MoreVert","img","ThumbUpAltSharp","ThumbUpAltOutlined","comment","Feed","postss","getPost","filter","userPost","map","textAlign","Online","FollowButton","followings","setFollowings","getFollwings","handleFollow","req","class","Remove","Add","HomeRightBar","u","ProfileRightBar","pathname","useLocation","friends","setFriends","getFriends","friend","Righbar","profile","CloseFriend","Sidebar","RssFeed","PlayCircleFilled","People","Bookmark","HelpOutline","WorkOutline","Event","School","Home","Profile","history","datas","setDatas","useParams","getPost2","push","currentUser","coverPicture","PrivateRoute","props","path","exact","component","RouterLinks","Conversation","conversation","setUser","friendId","members","find","m","Message","own","text","createdAt","ChatOnline","onlineUsers","onlineFriends","setOnlineFriends","Messenger","scrollBottom","useRef","conversations","setConversations","currentChat","setCurrentChat","messages","setMessages","newMessage","setNewMessage","setOnlineUsers","arrivalMessage","setArrivalMessage","io","socket","trim","senderId","conversationId","receiverId","rec","emit","getConversations","getMessages","current","scrollIntoView","behaviour","on","users","i","createddAt","activeClassName","ref","justifyContent","alignItems","height","Send","Error","marginTop","ScrollTop","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ea7946ef.chunk.js","sourcesContent":["const AuthReducer = (state, action) => {\r\n    switch (action.type) {\r\n        case \"LOGIN_START\":\r\n            return {\r\n                // ...state,\r\n                user:null,            \r\n                token:null,\r\n                isFecthing: true,\r\n                error:false,\r\n            }\r\n        case \"LOGIN_SUCCESS\":\r\n            return {\r\n                token:action.payload.token,\r\n                user: action.payload.id,\r\n                isFecthing: false,\r\n                error:false,\r\n            }\r\n        case \"LOGIN_FAILURE\":\r\n            \r\n\r\n            return {\r\n                // ...state,\r\n                user:null,\r\n                token:null,\r\n                isFecthing: false,\r\n                error:action.payload,\r\n            }\r\n        case \"USER_LOGOUT\":\r\n            localStorage.removeItem('myToken')\r\n            return {\r\n                // ...state,\r\n                user:null,\r\n                token:null,\r\n                isFecthing: false,\r\n                error:null,\r\n            }\r\n        case \"RE_RENDER\":\r\n\r\n            return {\r\n                ...state,\r\n                isFecthing:action.payload\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default AuthReducer","import { createContext, useEffect, useReducer } from \"react\"\r\nimport AuthReducer from \"./AuthReducer\"\r\nimport jwtDecode from \"jwt-decode\";\r\n\r\nlet INITIAL_STATE = {\r\n    token: \"\",\r\n    user: null,\r\n    isFecthing: false,\r\n    error: false,\r\n    message:null\r\n}\r\n\r\nconst verifyToken = (token) => {\r\n    const decodeToken = jwtDecode(token);\r\n    const expiresIn = new Date(decodeToken.exp * 1000)\r\n    \r\n    if (new Date() > expiresIn) {\r\n        localStorage.removeItem(\"myToken\")\r\n    } else {\r\n        return decodeToken;\r\n    }\r\n}\r\n    \r\nconst token = localStorage.getItem(\"myToken\")\r\n// console.log(token);\r\nif (token) {\r\n    const decoded = verifyToken(token)\r\n    INITIAL_STATE.token = token;\r\n    // console.log(decoded);\r\n    if (decoded.id) {\r\n        const { id } = decoded;\r\n        INITIAL_STATE.user = id ? id : null\r\n        // console.log(INITIAL_STATE.user);\r\n    }\r\n}\r\n\r\n\r\nexport const AuthContext = createContext()\r\n\r\nexport const AuthContextProvider = ({children}) => {\r\n    const [state, dispatch] = useReducer(AuthReducer, INITIAL_STATE)\r\n    // console.log(state);\r\n    \r\n\r\n    useEffect(() => { \r\n        const token = localStorage.getItem(\"myToken\")\r\n        // console.log(token);   \r\n        if (token) {\r\n            const decoded = verifyToken(token)\r\n            INITIAL_STATE.token = token;\r\n            console.log(decoded);\r\n            if (decoded.id) {\r\n                const { id } = decoded;\r\n                INITIAL_STATE.user = id ? id : null\r\n                console.log(INITIAL_STATE.user);\r\n            }\r\n        }\r\n    },[token])\r\n    return (\r\n        <AuthContext.Provider\r\n            value={{\r\n                token:state.token,\r\n                user: state.user,\r\n                isFecthing: state.isFecthing,\r\n                error: state.error,\r\n                dispatch\r\n            }}\r\n        >\r\n            {children}\r\n        </AuthContext.Provider>\r\n    )\r\n}\r\n","import React, { useState,useContext } from 'react'\r\nimport './Signup.css'\r\nimport { Checkbox, TextField, FormControlLabel, MenuItem, InputLabel, FormControl, Select } from '@material-ui/core';\r\nimport {KeyboardDatePicker} from '@material-ui/pickers';\r\nimport { Close, Visibility, VisibilityOff } from '@material-ui/icons';\r\nimport { Link } from 'react-router-dom';\r\nimport toast, { Toaster } from 'react-hot-toast';\r\nimport {AuthContext} from '../../context/AuthContext'\r\n\r\nconst Signup = ({ handlePopup, setHandlePopup }) => {\r\n    \r\n    const {user,dispatch} =useContext(AuthContext)\r\n\r\n    const [values, setValues] = useState({ username: '', email: '', password: \"\", cpassword: \"\",date:''})\r\n    \r\n    const handleChange = (e) => {\r\n        setValues({\r\n            ...values,\r\n            [e.target.name]:e.target.value\r\n        })\r\n    }\r\n\r\n    const handleSubmit =async (e) => {\r\n        e.preventDefault();\r\n        // console.log(values);\r\n\r\n        const res=await fetch(\"/api/register\", {\r\n            method: \"post\",\r\n            headers: {\r\n                'Content-Type': \"application/json\"\r\n            },\r\n            body: JSON.stringify(values)\r\n        })\r\n        const data = await res.json()\r\n        // console.log(res);\r\n        console.log(data);\r\n        if (res.status == 200) {\r\n            \r\n            toast.success(data.message, {\r\n                style: {\r\n                    padding: '10px',\r\n                    color: '#fff',\r\n                    fontSize: \"16px\",\r\n                    background: \"#62D346\"\r\n                },\r\n                iconTheme: {\r\n                    primary: 'white',\r\n                    secondary: '#62D346'\r\n                }\r\n            });\r\n            setTimeout(() => {\r\n                dispatch({ type: \"LOGIN_SUCCESS\", payload: data })\r\n                localStorage.setItem(\"myToken\", data.token)\r\n            },2000)\r\n        } else {\r\n            dispatch({ type: \"LOGIN_FAILURE\", payload: data.error })\r\n            toast.error(data.error.username || data.error.email || data.error.password || data.error.cpassword || data.error, {\r\n                style: {\r\n                padding: '10px',\r\n                color: '#fff',\r\n                fontSize:\"16px\",\r\n                background:\"red\"\r\n                },\r\n                iconTheme: {\r\n                primary: 'white',\r\n                secondary: 'red',\r\n                },\r\n            })\r\n        }\r\n    }\r\n\r\n    const [showPasword, setShowPasword] = useState(false)\r\n    \r\n    return (\r\n        <div className={handlePopup ? \"signupContainer\" : \"hide signupContainer\"}>\r\n            \r\n            {/* <Toaster\r\n            position=\"top-center\"\r\n            reverseOrder={false}\r\n            /> */}\r\n\r\n            <div className=\"signupBox\">\r\n                <Close className=\"hideSignup\" onClick={()=>setHandlePopup(false)}/>\r\n                <h4 className=\"signupTitle\">Sign Up</h4>\r\n                <p className=\"signupDesc\">It's quick and easy</p>\r\n                <hr />\r\n                <form onSubmit={handleSubmit} autoComplete=\"off\" className=\"signupForm\">\r\n                    <TextField\r\n                        className=\"fields\" \r\n                        id=\"outlined-basic\"\r\n                        label=\"Full Name\"\r\n                        type=\"text\"\r\n                        autoComplete=\"off\"\r\n                        variant=\"outlined\"\r\n                        name=\"username\"\r\n                        onChange={handleChange}\r\n                    />\r\n                    <TextField\r\n                        className=\"fields\" \r\n                        id=\"outlined-basic\"\r\n                        label=\"Email\"\r\n                        type=\"email\"\r\n                        autoComplete=\"off\"\r\n                        variant=\"outlined\"\r\n                        name=\"email\"\r\n                        onChange={handleChange}\r\n                    />\r\n                    <div className=\"fields\">\r\n                        <TextField\r\n                            id=\"outlined-password-input\"\r\n                            label=\"Password\"\r\n                            type={showPasword?'text':'password'}\r\n                            autoComplete=\"off\"\r\n                            variant=\"outlined\"\r\n                            name=\"password\"\r\n                            onChange={handleChange}\r\n                        />\r\n                        <FormControlLabel onClick={()=>setShowPasword(!showPasword)} control={<Checkbox icon={<VisibilityOff />} checkedIcon={<Visibility />} />} />\r\n                    </div>\r\n                    <div className=\"fields\">\r\n                        <TextField\r\n                            id=\"outlined-password-input\"\r\n                            label=\"Confirm Password\"\r\n                            type={showPasword?'text':'password'}\r\n                            autoComplete=\"off\"\r\n                            variant=\"outlined\"\r\n                            name=\"cpassword\"\r\n                            onChange={handleChange}\r\n                        />\r\n                    </div>\r\n                    <div className=\"fields birthDay\">\r\n                        \r\n                        <TextField\r\n                            id=\"date\"\r\n                            label=\"Birthday\"\r\n                            type=\"date\"\r\n                            name='date'\r\n                            InputLabelProps={{\r\n                                shrink: true,\r\n                            }}\r\n                            onChange={handleChange}\r\n                        />\r\n                    \r\n                    </div>\r\n                    \r\n                    <input className=\"signupButton\" type=\"submit\" value=\"Sign Up\" />\r\n\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Signup\r\n","import React, { useContext, useEffect, useState } from 'react'\r\nimport './Login.css'\r\nimport { Checkbox,TextField,FormControlLabel} from '@material-ui/core';\r\nimport { Visibility, VisibilityOff } from '@material-ui/icons';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport Signup from '../signup/Signup';\r\nimport  { useHistory  } from 'react-router-dom'\r\nimport { Helmet } from \"react-helmet\";\r\nimport {AuthContext} from '../../context/AuthContext'\r\nimport toast, { Toaster } from 'react-hot-toast';\r\n\r\nconst Login = () => {\r\n\r\n    const {user,dispatch} =useContext(AuthContext)\r\n    // console.log({user,token,isFecthing,error});\r\n    let history = useHistory ();\r\n    const [handlePopup,setHandlePopup]=useState(false)\r\n\r\n    const [values, setValues] = useState({ email: '', password: \"\"})\r\n    \r\n    const handleChange = (e) => {\r\n        setValues({\r\n            ...values,\r\n            [e.target.name]:e.target.value\r\n        })\r\n    }\r\n    \r\n    const handleSubmit =async (e) => {\r\n        // dispatch({type:\"LOGIN_START\"})\r\n        e.preventDefault()\r\n\r\n        const res=await fetch(\"/api/login\", {\r\n            method: \"post\",\r\n            headers: {\r\n                'Content-Type': \"application/json\"\r\n            },\r\n            body: JSON.stringify(values)\r\n        })\r\n        const data = await res.json()\r\n        // console.log(res);\r\n        console.log(data);\r\n        if (res.status == 200) {\r\n            \r\n            toast.success(data.message, {\r\n                style: {\r\n                    padding: '10px',\r\n                    color: '#fff',\r\n                    fontSize: \"16px\",\r\n                    background: \"#62D346\"\r\n                },\r\n                iconTheme: {\r\n                    primary: 'white',\r\n                    secondary: '#62D346'\r\n                }\r\n            });\r\n            setTimeout(() => {\r\n                dispatch({ type: \"LOGIN_SUCCESS\", payload: data })\r\n                localStorage.setItem(\"myToken\", data.token)\r\n            },2000)\r\n        } else if(res.status===400) {\r\n            console.log(data.error);\r\n            // dispatch({ type: \"LOGIN_FAILURE\", payload: data.error })\r\n            toast.error(data.error, {\r\n                style: {\r\n                padding: '10px',\r\n                color: '#fff',\r\n                fontSize:\"16px\",\r\n                background:\"red\"\r\n                },\r\n                iconTheme: {\r\n                primary: 'white',\r\n                secondary: 'red',\r\n                },\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    const [showPasword, setShowPasword] = useState(false)\r\n\r\n    return (\r\n    <>\r\n            <Toaster\r\n            position=\"top-center\"\r\n            reverseOrder={false}\r\n            />\r\n    \r\n        {/* ######LOGIN###### */}\r\n        <div className=\"loginContainer\">\r\n        \r\n            <Helmet>\r\n                <title>Login Page</title>\r\n            </Helmet>\r\n                \r\n            <div className=\"loginWrapper\">\r\n                <div className=\"loginLeft\">\r\n                    <h3 className=\"loginLogo\">MukhBoi</h3>\r\n                    <span className=\"loginDesc\">\r\n                        Connect with friends and the world aound you.\r\n                    </span>\r\n                </div>\r\n                <div className=\"loginRight\">\r\n                    <div className=\"loginBox\">\r\n                    <form className=\"loginForm\" onSubmit={handleSubmit} autoComplete=\"off\">\r\n                        <TextField \r\n                            id=\"outlined-basic\"\r\n                            label=\"Email\"\r\n                            type=\"email\"\r\n                            autoComplete=\"off\"\r\n                            variant=\"outlined\"\r\n                            name=\"email\"\r\n                            onChange={handleChange}\r\n                        />\r\n                        <div>\r\n                            <TextField\r\n                                id=\"outlined-password-input\"\r\n                                label=\"Password\"\r\n                                type={showPasword?'text':'password'}\r\n                                autoComplete=\"off\"\r\n                                variant=\"outlined\"\r\n                                name=\"password\"\r\n                                onChange={handleChange}\r\n                            />\r\n                            <FormControlLabel onClick={()=>setShowPasword(!showPasword)} control={<Checkbox icon={<VisibilityOff />} checkedIcon={<Visibility />} />} />\r\n                        </div>\r\n                        <input type=\"submit\" value=\"Log In\" className=\"loginButton\" />\r\n                        </form>\r\n                        <Link to=\"/signup\" className=\"loginForgot\">Forgot Password?</Link>\r\n                        <hr />\r\n                        <a className=\"newRegisterButton\" onClick={()=>setHandlePopup(true)}>Create A New Account</a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \r\n        {/* ######REGISTRATION###### */}\r\n            <Signup handlePopup={handlePopup} setHandlePopup={setHandlePopup}/>\r\n        \r\n    </>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import React, { useContext, useEffect, useState } from 'react'\r\nimport './Topbar.css'\r\nimport { Link } from 'react-router-dom';\r\nimport {Chat, Notifications, Person, Search} from '@material-ui/icons';\r\nimport { AuthContext } from '../../context/AuthContext';\r\n\r\nconst Topbar = () => {\r\n    const { user,dispatch,isFecthing } = useContext(AuthContext)\r\n    // console.log(user);\r\n    const [authUser,setAuthUser]=useState({})\r\n\r\n    const logout =async () => {\r\n        dispatch({ type: \"USER_LOGOUT\" })\r\n        const res = await fetch(\"/api/logout\", {\r\n            method: \"get\"\r\n        })\r\n        const data = await res.json()\r\n        console.log(data);\r\n    }\r\n    const getUser = async () => {\r\n        const res = await fetch('/api/authUser', {\r\n            method:\"get\"\r\n        })\r\n        const data = await res.json()\r\n        setAuthUser(data);\r\n    }\r\n\r\n    useEffect(() => {\r\n        getUser()\r\n        window.scrollTo(0, 0);\r\n    },[user,isFecthing])\r\n\r\n\r\n\r\n    return user?(\r\n        <section className=\"topbarContainer\">\r\n            {/* Topbar Left Side  */}\r\n            <div className=\"topbarLeft\">\r\n                <Link to=\"/\" className=\"logo\">MukhBoi</Link>\r\n            </div>\r\n\r\n            {/* Topbar Middle Side  */}\r\n            <div className=\"topbarCenter\">\r\n                <div className=\"searchBar\">\r\n                    <Search className=\"searchIcon\" />\r\n                    <input type=\"text\" placeholder=\"Search for riend, post or video\" className=\"searchInput\" />\r\n                </div>\r\n            </div>\r\n\r\n            {/* Topbar Right Side  */}\r\n            <div className=\"topbarRight\">\r\n                <div className=\"topBarLinks\">\r\n                    <span className=\"topBarLink\">Hompage</span>\r\n                    <span className=\"topBarLink\" onClick={logout}>Logout</span>\r\n                </div>\r\n                <div className=\"topBarIcons\">\r\n                    <div className=\"topBarIconItem\">\r\n                        <Person />\r\n                        <span className=\"topBarIconBadge\">1</span>\r\n                    </div>\r\n                    <Link to=\"/messages\" className=\"topBarIconItem\">\r\n                        <Chat/>\r\n                        <span className=\"topBarIconBadge\">1</span>\r\n                    </Link>\r\n                    <div className=\"topBarIconItem\">\r\n                        <Notifications/>\r\n                        <span className=\"topBarIconBadge\">1</span>\r\n                    </div>\r\n                </div>\r\n                <Link onClick={()=>dispatch({type:\"RE_RENDER\",payload:Date.now()})} to={`/profile/${user}`}><img src={authUser?authUser.profilePicture:\"../images/noAvatar.png\"} alt=\"Profile\" className=\"topBarImg\"/></Link>\r\n            </div>\r\n            \r\n        </section>\r\n    ):null\r\n}\r\n\r\nexport default Topbar\r\n","import { EmojiEmotions, Label, PermMedia } from '@material-ui/icons'\r\nimport React,{useContext, useEffect, useState} from 'react'\r\nimport { AuthContext } from '../../context/AuthContext'\r\nimport './Share.css'\r\nimport toast, { Toaster } from 'react-hot-toast';\r\n\r\nconst Share = ({ user }) => {\r\n\r\n    const state=useContext(AuthContext)\r\n    \r\n    const [posts, setPosts] = useState({ desc: '', file: '',src:'',alt:'' })\r\n    \r\n    const handleFile = (e) => {\r\n        setPosts({\r\n            ...posts,\r\n            desc:e.target.name==='desc'?e.target.value:posts.desc,\r\n            file:e.target.name==='file'?e.target.files[0]:posts.file,\r\n            src: e.target.files?URL.createObjectURL(e.target.files[0]):posts.src,\r\n            alt: e.target.files?e.target.files[0].name:posts.alt\r\n        })\r\n    }\r\n\r\n    const handleForm =async (e) => {\r\n        e.preventDefault()\r\n        \r\n        const formData=new FormData()\r\n        formData.append('desc',posts.desc)\r\n        formData.append('img', posts.file)\r\n        \r\n        const res=await fetch('/api/post/create', {\r\n            method: \"POST\",\r\n            heades: {\r\n              'Content-Type':\"application/json\"  \r\n            },\r\n            body:formData\r\n        })\r\n        const data=await res.json()\r\n        // console.log(res);\r\n        // console.log(data);\r\n        if (res.status === 200) {      \r\n            state.dispatch({ type: \"RE_RENDER\", payload:Date.now() })    \r\n            toast.success(data.message, {\r\n                style: {\r\n                    padding: '10px',\r\n                    color: '#fff',\r\n                    fontSize: \"16px\",\r\n                    background: \"#62D346\"\r\n                },\r\n                iconTheme: {\r\n                    primary: 'white',\r\n                    secondary: '#62D346'\r\n                }\r\n            });\r\n            setPosts({ desc: '', file:'',src:'',alt:'' })\r\n        } else if(res.status===400) {\r\n            toast.error(data.error, {\r\n                style: {\r\n                padding: '10px',\r\n                color: '#fff',\r\n                fontSize:\"16px\",\r\n                background:\"red\"\r\n                },\r\n                iconTheme: {\r\n                primary: 'white',\r\n                secondary: 'red',\r\n                },\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    const [authUser,setAuthUser]=useState({})\r\n    \r\n    const getUser = async () => {\r\n        const res = await fetch('/api/authUser', {\r\n            method:\"get\"\r\n        })\r\n        const data = await res.json()\r\n        setAuthUser(data);\r\n    }\r\n    useEffect(() => {\r\n        getUser()\r\n    }, [state.isFecting])\r\n\r\n    user ? user = user._id : user = state.user\r\n    \r\n    return user===authUser._id?(\r\n        <div className=\"shareContainer\">\r\n             <Toaster\r\n            position=\"top-center\"\r\n            reverseOrder={false}\r\n            />\r\n            <div className=\"shareWrapper\">\r\n                {/* share top  */}\r\n                <div className=\"shareTop\">\r\n                    <img style={{userSelect:\"none\"}} className=\"shareTopProfile\" src={authUser?authUser.profilePicture: '../images/noProfile.png'} alt=\"\" />\r\n                    <input onChange={handleFile} value={posts.desc} name='desc' className=\"shareInput\" type=\"text\" placeholder={`What's in your mind, ${authUser.username.split(' ')[0]}?`} />\r\n                </div>\r\n\r\n                <hr className=\"shareHr\" />\r\n\r\n                {/* share bottom  */}\r\n                <form enctype=\"multipart/form-data\" className=\"shareBottom\" onSubmit={handleForm}>\r\n                    <div style={{marginBottom:posts.file?\"15px\":'0'}} className=\"shareOptions\">\r\n                        <div className=\"shareOption\">\r\n                            <label style={{cursor:\"pointer\"}} htmlFor=\"file\">\r\n                            <PermMedia htmlColor=\"#45BD62\" className=\"shareIcon\"/>\r\n                            <span className=\"shareOptionText\">Photo</span>\r\n                            </label>\r\n                            <input style={{display:'none'}} name='file' type=\"file\" id=\"file\" accept='.png,.jpeg,.jpg' onChange={handleFile} />\r\n                        </div>\r\n                        <div className=\"shareOption hide1\">\r\n                            <Label htmlColor=\"#F02849\" className=\"shareIcon\"/>\r\n                            <span className=\"shareOptionText\">Tag</span>\r\n                        </div>\r\n                        <div className=\"shareOption hide2\">\r\n                            <EmojiEmotions htmlColor=\"#F8C03E\" className=\"shareIcon\"/>\r\n                            <span className=\"shareOptionText\">Feelings</span>\r\n                        </div>\r\n                        <button type='submit' className=\"shareButton\">Share</button>\r\n                    </div>\r\n                    <img style={{maxWidth:\"100%\"}} src={posts.src} alt={posts.alt} />\r\n                </form>\r\n            </div>\r\n        </div>\r\n    ):null\r\n}\r\n\r\nexport default Share\r\n","export const Users = [\r\n    {\r\n        id: 1,\r\n        profilePicture: \"../images/person1.jpg\",\r\n        username:\"Sajidul Islam\"\r\n    },\r\n    {\r\n        id: 2,\r\n        profilePicture: \"../images/person2.jpg\",\r\n        username:\"Mohammad Rakib \"\r\n    },\r\n    {\r\n        id: 3,\r\n        profilePicture: \"../images/person3.jpg\",\r\n        username:\"Shadman Karim \"\r\n    },\r\n    {\r\n        id: 4,\r\n        profilePicture: \"../images/person4.jpg\",\r\n        username:\"Mohammad Jishan \"\r\n    },\r\n    {\r\n        id:5,\r\n        profilePicture: \"../images/person5.jpg\",\r\n        username:\"Mohammad Nuruddin \"\r\n    },\r\n    {\r\n        id: 6,\r\n        profilePicture: \"../images/person6.jpg\",\r\n        username:\"Sakib Hasan\"\r\n    },\r\n    {\r\n        id: 7,\r\n        profilePicture: \"../images/person7.jpg\",\r\n        username:\"Helal Uddin\"\r\n    },\r\n    {\r\n        id:8,\r\n        profilePicture: \"../images/person8.jpg\",\r\n        username:\"Tohidul Alam\"\r\n    },\r\n    {\r\n        id: 9,\r\n        profilePicture: \"../images/person9.jpg\",\r\n        username:\"Mosheur Rahaman\"\r\n    },\r\n    {\r\n        id: 10,\r\n        profilePicture: \"../images/person10.jpg\",\r\n        username:\"M.H Rafi\"\r\n    }\r\n]\r\nexport const Posts = [\r\n    {\r\n        id: 1,\r\n        desc: \"Love For All, Hatred For None\",\r\n        photo: \"./images/post1.jpeg\",\r\n        date: \"5 mins age\",\r\n        userId: 1,\r\n        like: 32,\r\n        comment:9\r\n    },\r\n    {\r\n        id: 2,\r\n        desc: \"Love For All, Hatred For None\",\r\n        photo: \"./images/post2.jpeg\",\r\n        date: \"5 mins age\",\r\n        userId: 2,\r\n        like: 32,\r\n        comment:9\r\n    },\r\n    {\r\n        id: 3,\r\n        desc: \"Love For All, Hatred For None\",\r\n        photo: \"./images/post3.jpeg\",\r\n        date: \"5 mins age\",\r\n        userId: 3,\r\n        like: 32,\r\n        comment:9\r\n    },\r\n    {\r\n        id: 4,\r\n        desc: \"Love For All, Hatred For None\",\r\n        photo: \"./images/post4.jpeg\",\r\n        date: \"5 mins age\",\r\n        userId: 4,\r\n        like: 32,\r\n        comment:9\r\n    },\r\n    {\r\n        id: 5,\r\n        desc: \"Love For All, Hatred For None\",\r\n        photo: \"./images/post5.jpeg\",\r\n        date: \"5 mins age\",\r\n        userId: 5,\r\n        like: 32,\r\n        comment:9\r\n    },\r\n    {\r\n        id: 6,\r\n        desc: \"Love For All, Hatred For None\",\r\n        photo: \"./images/post6.jpeg\",\r\n        date: \"5 mins age\",\r\n        userId:6,\r\n        like: 32,\r\n        comment:9\r\n    },\r\n    {\r\n        id: 7,\r\n        desc: \"Love For All, Hatred For None\",\r\n        photo: \"./images/post7.jpeg\",\r\n        date: \"5 mins age\",\r\n        userId: 7,\r\n        like: 32,\r\n        comment:9\r\n    },\r\n    {\r\n        id: 8,\r\n        desc: \"Love For All, Hatred For None\",\r\n        photo: \"./images/post8.jpeg\",\r\n        date: \"5 mins age\",\r\n        userId:8,\r\n        like: 32,\r\n        comment:9\r\n    },\r\n    {\r\n        id: 9,\r\n        desc: \"Love For All, Hatred For None\",\r\n        photo: \"./images/post9.jpeg\",\r\n        date: \"5 mins age\",\r\n        userId:9,\r\n        like: 32,\r\n        comment:9\r\n    },\r\n    {\r\n        id: 10,\r\n        desc: \"Love For All, Hatred For None\",\r\n        photo: \"./images/post10.jpeg\",\r\n        date: \"5 mins age\",\r\n        userId:10,\r\n        like: 32,\r\n        comment:9\r\n    }\r\n]","import { MoreVert, ThumbUpAltOutlined, ThumbUpAltSharp } from '@material-ui/icons'\r\nimport React, { useState, useEffect, useContext } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport './Post.css'\r\nimport { Users } from '../../dummyData'\r\nimport moment from 'moment'\r\nimport { AuthContext } from '../../context/AuthContext'\r\n\r\nconst Post = ({ post, rootUser }) => {\r\n    const {dispatch} =useContext(AuthContext)\r\n    \r\n    const [like,setLike]=useState(post.likes.length)\r\n    const [isLike, setIsLike] = useState(post.likes.includes(rootUser.toString()))\r\n    const [user, setUser] = useState({})\r\n\r\n    const likeHandler =async () => {\r\n        setIsLike(!isLike)\r\n        setLike(isLike ? like - 1 : like + 1)\r\n\r\n        console.log(post._id);\r\n\r\n        const res=await fetch(`/api/post/like/${post._id}`, {\r\n            method: \"PATCH\",\r\n            headers: {\r\n                'Content-Type': \"application/json\"\r\n            },\r\n            body:JSON.stringify({isLike})\r\n        })\r\n        const data = await res.json()\r\n        console.log(res);\r\n        console.log(data);\r\n\r\n    }\r\n\r\n    // console.log(post.likes.includes(rootUser.toString()));\r\n\r\n    return (\r\n        <div className=\"postContainer\">\r\n            <div className=\"postWrapper\">\r\n                {/* post top  */}\r\n                <div className=\"postTop\">\r\n                    <div className=\"postTopLeft\">\r\n                        <Link onClick={()=>dispatch({type:\"RE_RENDER\",payload:Date.now()})} to={`/profile/${post.userId._id}`}><img className=\"postProfileImg\" src={post.userId.profilePicture} alt=\"profile\" /></Link>\r\n                        <Link onClick={()=>dispatch({type:\"RE_RENDER\",payload:Date.now()})} to={`/profile/${post.userId._id}`} className=\"postUsername\">{post.userId.username}</Link>\r\n                        <span className=\"postDate\">{moment(post.updatedAt).fromNow()}</span>\r\n                    </div>\r\n                    <div className=\"postTopRight\">\r\n                        <MoreVert/>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* post middle  */}\r\n                <div className=\"postCenter\">\r\n                    <span className=\"postText\">{post.desc || '' }</span>\r\n                    {post.img?<img className=\"postImg\" src={post.img} alt=\"image\" />:null}\r\n                </div>\r\n\r\n                {/* post bottom  */}\r\n                <div className=\"postBottom\">\r\n                    <div className=\"postBottomLeft\">\r\n                        {isLike?<ThumbUpAltSharp style={{color:\"#1877f2\"}} className=\"likeButton\" onClick={likeHandler} />:<ThumbUpAltOutlined className=\"likeButton\" onClick={likeHandler} />}\r\n                        <div className=\"likeCounter\">\r\n                            {like} peoples like it\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"postBottomRight\">\r\n                        <span className=\"postCommentText\">\r\n                            {post.comment} comment\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n                \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Post\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { Redirect, useHistory } from \"react-router-dom\";\r\nimport { AuthContext } from '../../context/AuthContext'\r\nimport Share from \"../share/Share\";\r\nimport Post from \"../post/Post\";\r\nimport \"./Feed.css\";\r\n\r\nconst Feed = ({ user }) => {\r\n\r\n  const {isFecthing} = useContext(AuthContext)\r\n\r\n  const [posts, setPosts] = useState({ postss: [], rootUser: \"\" });\r\n\r\n  const getPost = async () => {\r\n    const res = await fetch(\"/api/post/all/timeline\", {\r\n      method: \"get\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n    const data = await res.json();\r\n    // console.log(res);\r\n    // console.log(data); \r\n    if (res.status === 200) {\r\n      setPosts({ postss: data.data, rootUser: data.rootUser });\r\n      // posts.rootUser?console.log(posts.rootUser):console.log('')\r\n    } else {\r\n      // console.log(false);\r\n      localStorage.removeItem(\"myToken\")\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getPost();\r\n  }, [isFecthing]);\r\n\r\n  return (\r\n    <div className=\"feedContainer\">\r\n      <div className=\"feedWrapper\">\r\n        <Share user={user} />\r\n        {\r\n            \r\n            !user ? (\r\n              posts ? (\r\n                posts.postss.map((post) => (\r\n                  <Post key={post._id} post={post} rootUser={posts.rootUser} />\r\n                ))\r\n              ) : (\r\n                <h1>Loading</h1>\r\n              )\r\n            ) : (\r\n              posts.postss.filter((id)=>id.userId._id===user._id).length ? <div> {\r\n              posts ? (\r\n                posts.postss.filter(userPost => userPost.userId._id === user._id).map((post) => (\r\n                  <Post key={post._id} post={post} rootUser={posts.rootUser} />\r\n                ))\r\n              ) : (\r\n                <h1>Loading</h1>\r\n              )}</div>:<h1 style={{textAlign:\"center\"}}>No Post Is Created...😪</h1>\r\n            )\r\n            \r\n          \r\n        }\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default Feed;\r\n","import React from 'react'\r\n\r\nconst Online = ({user}) => {\r\n    return (\r\n            <li className=\"rightbarFriend\">\r\n                <div className=\"rightbarProfileImagContainer\">\r\n                    <img className=\"rightbarProfileImg\" src={user.profilePicture} alt=\"\" />\r\n                    <span className=\"rightbarOnline\"></span>\r\n                </div>\r\n            <span className=\"rightbarUsername\">{user.username}</span>\r\n            </li>\r\n    )\r\n}\r\n\r\nexport default Online\r\n","import React, { useContext,useState,useEffect }from 'react'\r\nimport { AuthContext } from '../../context/AuthContext'\r\nimport { Add, Remove } from '@material-ui/icons'\r\n\r\nconst FollowButton = ({ userId }) => {\r\n    \r\n    const { user, dispatch, isFecthing } = useContext(AuthContext)\r\n    const [followings,setFollowings] = useState([])\r\n\r\n    const getFollwings = async () => {\r\n        const res = await fetch(`/api/api/get/following`, {\r\n            method:\"get\"\r\n        })\r\n        const data = await res.json()\r\n        console.log(data);\r\n        setFollowings(data.message)\r\n    }\r\n\r\n    const handleFollow = async (req) => {\r\n        const res = await fetch(`/api/user/${userId.id}/${req}`, {\r\n            method:\"PATCH\"\r\n        })\r\n        const data = await res.json()\r\n        console.log(data);\r\n        dispatch({ type: 'RE_RENDER',payload:Date.now()})\r\n    }\r\n\r\n    useEffect(() => {\r\n        getFollwings()\r\n    }, [isFecthing])\r\n\r\n    return (\r\n        <div>\r\n            {userId.id !== user ?\r\n                !followings.includes(userId.id)?\r\n                    <span onClick={() => handleFollow('follow')} class=\"followButton\">FOLLOW <Add /></span>\r\n                    : <span onClick={() => handleFollow('unfollow')} class=\"followButton\" style={{ background: \"#ff3434\" }}>Unfollow <Remove /></span>\r\n                : null\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FollowButton\r\n","import React, { useContext,useEffect, useState } from 'react'\r\nimport './Righbar.css'\r\nimport {Users} from '../../dummyData'\r\nimport Online from '../online/Online'\r\nimport { AuthContext } from '../../context/AuthContext'\r\nimport { Link, useLocation } from 'react-router-dom'\r\nimport { Add, Remove } from '@material-ui/icons'\r\nimport FollowButton from './FollowButton'\r\n\r\nconst HomeRightBar = () => {\r\n    return (\r\n        <>\r\n            <div className=\"birthdayContainer\">\r\n                <img className=\"birthdayImg\" src=\"./images/gift.png\" alt=\"\" />\r\n                <span className=\"birthdayText\">\r\n                    <b>Tohid</b> and <b>3 other friends</b> have a birthday today\r\n                </span>\r\n            </div>\r\n            <img src=\"./images/add.png\" alt=\"\" className=\"rightbarAd\" />\r\n            <h4 className=\"rightbarTitle\">\r\n                Online Friends\r\n            </h4>\r\n            <ul className=\"rightbarFriendList\">\r\n                {Users.map((u) => (\r\n                    <Online key={u.id} user={u}/>\r\n                ))}\r\n            </ul>\r\n        </>\r\n    )\r\n}\r\n\r\nconst ProfileRightBar = ({userId}) => {\r\n\r\n    const { user, dispatch, isFecting } = useContext(AuthContext)\r\n    \r\n    const { pathname } = useLocation()\r\n    const [friends,setFriends] = useState([])\r\n    const [followings,setFollowings] = useState([])\r\n\r\n    const getFriends = async () => {\r\n        const res = await fetch(`/api/api/friends/${userId.id}`, {\r\n            method:\"get\"\r\n        })\r\n        const data = await res.json()\r\n        // console.log(data);\r\n        await setFriends(data);\r\n    }\r\n\r\n    const getFollwings = async () => {\r\n        const res = await fetch(`/api/api/get/following`, {\r\n            method:\"get\"\r\n        })\r\n        const data = await res.json()\r\n        setFollowings(data.message)\r\n        dispatch({ type: 'RE_RENDER',payload:Date.now()})\r\n    }\r\n\r\n    const handleFollow = async (req) => {\r\n        const res = await fetch(`/api/user/${userId.id}/${req}`, {\r\n            method:\"PATCH\"\r\n        })\r\n        const data = await res.json()\r\n        console.log(data);\r\n        dispatch({ type: 'RE_RENDER',payload:Date.now()})\r\n    }\r\n\r\n    useEffect(() => {\r\n        getFriends()\r\n        getFollwings()\r\n    }, [ isFecting,pathname])\r\n\r\n    return (\r\n        <>\r\n            <FollowButton userId={userId} />\r\n\r\n            <h4 className=\"rightbarTitle\">User Information</h4>\r\n            <div className=\"rightbarInfo\">\r\n                <div className=\"rightbarInfoItem\">\r\n                    <span className=\"rightbarInfoKey\">City:</span>\r\n                    <span className=\"rightbarInfoValue\">Rawzan</span>\r\n                </div>\r\n                <div className=\"rightbarInfoItem\">\r\n                    <span className=\"rightbarInfoKey\">From:</span>\r\n                    <span className=\"rightbarInfoValue\">Bangladesh</span>\r\n                </div>\r\n                <div className=\"rightbarInfoItem\">\r\n                    <span className=\"rightbarInfoKey\">Relationsip:</span>\r\n                    <span className=\"rightbarInfoValue\">Single</span>\r\n                </div>\r\n            </div>\r\n            <h4 className=\"rightbarTitle\">User Friends({friends.length})</h4>\r\n            <div className=\"rightbarFollowings\">\r\n                {\r\n                    friends ? friends.map((friend) => (\r\n                    <Link onClick={()=>dispatch({type:\"RE_RENDER\",payload:Date.now()})} to={`/profile/${friend._id}`} className=\"rightbarFollowing\">\r\n                        <img className=\"rightbarFollwingImg\" src={friend.profilePicture} alt=\"\" />\r\n                        <span className=\"rightbarFollowingName\">{friend.username}</span>\r\n                    </Link>\r\n                )):<h1>Loading...</h1>\r\n                }\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nconst Righbar = ({ profile, userId }) => {\r\n    \r\n    return (\r\n        <div className='rightbarContainer'>\r\n            <div className=\"rightbarWrapper\">\r\n                {profile ? <ProfileRightBar userId={userId}/>:<HomeRightBar/>}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Righbar\r\n","import React from 'react'\r\n\r\nconst CloseFriend = ({user}) => {\r\n    return (\r\n        <li className=\"sidebarFriend\">\r\n            <img src={user.profilePicture} alt=\"\" className=\"sidebarFriendImg\" />\r\n            <span className=\"sidebarFriendName\">{user.username}</span>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default CloseFriend\r\n","import React from 'react'\r\nimport './Sidebar.css'\r\nimport {Bookmark, Event, HelpOutline, Message, People, PlayCircleFilled, RssFeed, School, WorkOutline} from '@material-ui/icons'\r\nimport CloseFriend from '../closeFriend/CloseFriend'\r\nimport {Users} from '../../dummyData'\r\n\r\nconst Sidebar = () => {\r\n    return (\r\n        <div className=\"sidebarContainer\">\r\n            <div className=\"sidebarWrapper\">\r\n                <ul className=\"sidebarList\">\r\n                    <li className=\"sidebarListItem\">\r\n                        <RssFeed className=\"sidebarIcon\"/>\r\n                        <span className=\"sidebarListItemText\">\r\n                            Feed\r\n                        </span>\r\n                    </li>\r\n                    <li className=\"sidebarListItem\">\r\n                        <Message className=\"sidebarIcon\"/>\r\n                        <span className=\"sidebarListItemText\">\r\n                            Chats\r\n                        </span>\r\n                    </li>\r\n                    <li className=\"sidebarListItem\">\r\n                        <PlayCircleFilled className=\"sidebarIcon\"/>\r\n                        <span className=\"sidebarListItemText\">\r\n                            Videos\r\n                        </span>\r\n                    </li>\r\n                    <li className=\"sidebarListItem\">\r\n                        <People className=\"sidebarIcon\"/>\r\n                        <span className=\"sidebarListItemText\">\r\n                            Groups\r\n                        </span>\r\n                    </li>\r\n                    <li className=\"sidebarListItem\">\r\n                        <Bookmark className=\"sidebarIcon\"/>\r\n                        <span className=\"sidebarListItemText\">\r\n                            Bookmarks\r\n                        </span>\r\n                    </li>\r\n                    <li className=\"sidebarListItem\">\r\n                        <HelpOutline className=\"sidebarIcon\"/>\r\n                        <span className=\"sidebarListItemText\">\r\n                            Questions\r\n                        </span>\r\n                    </li>\r\n                    <li className=\"sidebarListItem\">\r\n                        <WorkOutline className=\"sidebarIcon\"/>\r\n                        <span className=\"sidebarListItemText\">\r\n                            Jobs\r\n                        </span>\r\n                    </li>\r\n                    <li className=\"sidebarListItem\">\r\n                        <Event className=\"sidebarIcon\"/>\r\n                        <span className=\"sidebarListItemText\">\r\n                            Events\r\n                        </span>\r\n                    </li>\r\n                    <li className=\"sidebarListItem\">\r\n                        <School className=\"sidebarIcon\"/>\r\n                        <span className=\"sidebarListItemText\">\r\n                            Courses\r\n                        </span>\r\n                    </li>\r\n                </ul>\r\n\r\n                <button className=\"sidebarButton\">Show More</button>\r\n                <hr className=\"sidebarHr\" />\r\n\r\n                <ul className=\"sidebarFriendList\">\r\n                    {Users.map((u)=><CloseFriend key={u.id} user={u}/>)}\r\n                </ul>\r\n                \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Sidebar\r\n","import React from 'react'\r\nimport Feed from '../../componetns/feed/Feed';\r\nimport Righbar from '../../componetns/righbar/Righbar';\r\nimport Sidebar from '../../componetns/sidebar/Sidebar';\r\nimport './home.css'\r\nimport { Helmet } from 'react-helmet'\r\n\r\nconst Home = () => {\r\n    return (\r\n        <div className=\"homeContainer\">\r\n            <Helmet>\r\n                <title>Home | MukhBoi</title>\r\n            </Helmet>\r\n            <Sidebar />\r\n            <Feed />\r\n            <Righbar/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home\r\n","import React,{useContext, useEffect, useState} from 'react'\r\nimport { useHistory, useParams, useLocation } from 'react-router-dom';\r\nimport Feed from '../../componetns/feed/Feed';\r\nimport Righbar from '../../componetns/righbar/Righbar';\r\nimport Sidebar from '../../componetns/sidebar/Sidebar';\r\nimport { AuthContext } from '../../context/AuthContext';\r\nimport '../home/home.css'\r\nimport './Profile.css'\r\n\r\nexport const Profile = () => {\r\n    const { pathname } = useLocation();\r\n\r\n    const {user,isFecthing}=useContext(AuthContext)\r\n\r\n    const history=useHistory()\r\n\r\n    const [datas,setDatas]=useState([])\r\n\r\n    const userId = useParams()\r\n\r\n    const getPost2 = async () => {\r\n        const res=await fetch(`/api/api/profile/${userId.id}`, {\r\n            method: \"get\",\r\n            headers: {\r\n                'Content-Type': \"application/json\"\r\n            }\r\n        })\r\n        const data = await res.json()\r\n        // console.log(res);\r\n        if (res.status === 200) {\r\n            setDatas(data);\r\n            // datas?console.log(datas):console.log();\r\n        } else {\r\n            history.push(\"/login\");\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        getPost2()\r\n    },[isFecthing,pathname])\r\n\r\n    return datas.currentUser? (\r\n        <div className=\"profileContainer\">\r\n            <Sidebar />\r\n            <div className=\"profileRight\">\r\n                <div className=\"profileRightTop\">\r\n                    <div className=\"profileCover\">\r\n                        \r\n                        <img className=\"profileCoverImg\" src={datas.currentUser.coverPicture} alt=\"\" />\r\n                        {datas.currentUser.profilePicture?<img className=\"profileUserImg\" src={datas.currentUser.profilePicture} alt=\"profile\" />:<div></div>}\r\n                    </div>\r\n                    <div className=\"profileInfo\">\r\n                        <h4 className=\"profileInfoName\">{datas.currentUser.username}</h4>\r\n                        <span className=\"profileInfoDesc\">Hello My Friends</span>\r\n                    </div>\r\n                </div>            \r\n                <div className=\"profileRightBottom\">\r\n                    <Feed user={datas.currentUser} />\r\n                    <Righbar userId={userId} profile={true}/>\r\n                </div>            \r\n            </div>\r\n        </div>\r\n    ):<h1>Loading</h1>\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { Redirect, Route } from 'react-router-dom'\r\nimport {AuthContext} from '../../context/AuthContext'\r\n\r\nconst PrivateRoute = (props) => {\r\n\r\n    const {token} = useContext(AuthContext)\r\n\r\n    return token ? (\r\n        <Route path={props.path} exact={props.exact} component={props.component} />\r\n    ) : (\r\n        <Redirect to=\"/login\" />\r\n    );\r\n}\r\n\r\nexport default PrivateRoute\r\n","import { useContext } from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\n\r\nconst RouterLinks = (props) => {\r\n    const { user,token } = useContext(AuthContext)\r\n    \r\n    return token ? (\r\n        <Redirect to=\"/\"/>\r\n    ) : (\r\n        <Route path={props.path} exact={props.exact} component={props.component} /> \r\n    )\r\n}\r\n\r\nexport default RouterLinks","import React, { useEffect, useState } from 'react'\r\nimport './Conversation.css'\r\n\r\nconst Conversation = ({ conversation,currentUser }) => {\r\n    const [user, setUser] = useState([])\r\n    \r\n    const friendId = conversation.members.find((m) => m !== currentUser)\r\n            \r\n    const getUser = async () => {\r\n        try {\r\n            const res = await fetch('/api/user/' + friendId, {\r\n                method:'get'\r\n            })\r\n            const data = await res.json()\r\n            setUser(data.user);\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        getUser()\r\n    }, [currentUser, conversation])\r\n\r\n    return (\r\n        <div className=\"conversationContainer\">\r\n            <img className=\"conversationImg\" src={user.profilePicture} alt=\"\" />\r\n            <span className=\"coversationName\">{user.username}</span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Conversation\r\n","import React from 'react'\r\nimport './Message.css'\r\nimport moment from 'moment'\r\n\r\nconst Message = ({message,own}) => {\r\n    return (\r\n        <div className={`message ${own}`}>\r\n            <div className=\"messageTop\">\r\n                <img className=\"messageImg\" src=\"../images/person5.jpg\" alt=\"\" />\r\n                <p className=\"messageText\">{message?.text}</p>\r\n            </div>\r\n            <div className=\"messageBottom\">{moment(message?.createdAt).fromNow()}</div>\r\n        </div>    \r\n    )\r\n}\r\n\r\nexport default Message\r\n","import React, { useEffect, useState } from 'react'\r\nimport './ChatOnline.css'\r\n\r\nconst ChatOnline = ({ onlineUsers, user }) => {\r\n\r\n    const [onlineFriends,setOnlineFriends]=useState([])\r\n\r\n    const getFriends = async () => {\r\n        const res = await fetch(`/api/api/friends/${user}`, {\r\n            method:\"get\"\r\n        })\r\n        const data = await res.json()\r\n        console.log(data);\r\n        // setOnlineFriends(data?.filter(e=>onlineUsers?.includes(e._id)))\r\n        setOnlineFriends(data?.filter(e=>onlineUsers?.includes(e._id)))\r\n    }\r\n\r\n    useEffect(() => {\r\n        getFriends()        \r\n    },[])\r\n\r\n    console.log(onlineFriends,onlineUsers,user);\r\n    return (\r\n        <>\r\n        {\r\n        onlineFriends.map((friend)=>(\r\n        <div className=\"chatOnlineFriends\">\r\n            <div className=\"chatOnlineFriend\">\r\n                <div className=\"chatOnlineImgContainer\">\r\n                    <img className=\"chatOnlineImg\" src={friend.profilePicture} alt=\"\" />\r\n                    <span className=\"chatOnlineBadge\"></span>\r\n                </div>\r\n                    <div className=\"chatOnlineUsername\">{friend.username}</div>\r\n            </div>\r\n        </div>\r\n        ))\r\n        }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ChatOnline\r\n","import React, { useContext,useEffect,useRef,useState } from 'react'\r\nimport './Messengerr.css'\r\nimport { Helmet } from 'react-helmet'\r\nimport Conversation from '../conversation/Conversation'\r\nimport Message from '../message/Message'\r\nimport {Send} from '@material-ui/icons';\r\nimport ChatOnline from '../chatOnline/ChatOnline'\r\nimport {AuthContext} from '../../context/AuthContext'\r\nimport { NavLink, useParams } from 'react-router-dom'\r\nimport {io} from \"socket.io-client\";\r\n\r\n// const socket = io.connect(\"http://localhost:5000\");\r\n\r\nconst Messenger = () => {\r\n    const { id } = useParams()\r\n    const scrollBottom=useRef()\r\n    const [conversations, setConversations] = useState()\r\n    const [currentChat, setCurrentChat] = useState(id)\r\n    const [messages, setMessages] = useState([])\r\n    const [newMessage, setNewMessage] = useState()    \r\n    const [onlineUsers, setOnlineUsers] = useState()    \r\n    const [arrivalMessage, setArrivalMessage] = useState()    \r\n    const { user, isFecthing, dispatch } = useContext(AuthContext)\r\n    let [socket,setSocket]=useState(io(\"/\"))\r\n    \r\n    const handleSubmit =async (e) => {\r\n        e.preventDefault()\r\n        if (newMessage.trim()) {\r\n            const message={\r\n                senderId: user,\r\n                text: newMessage,\r\n                conversationId:currentChat\r\n            }\r\n\r\n            const receiverId = conversations?.find((conversation) => {\r\n                return conversation._id===currentChat\r\n            }).members.find(rec=>rec!==user)\r\n        \r\n            socket.emit(\"sendMessage\", {\r\n                senderId: user,\r\n                receiverId,\r\n                text: newMessage,\r\n            });\r\n            \r\n            const res = await fetch('/api/messages', {\r\n                method: \"post\",\r\n                headers: {\r\n                    'Content-Type':'application/json'\r\n                },\r\n                body:JSON.stringify(message)\r\n            })\r\n            const data = await res.json()\r\n            // console.log(res);\r\n            // console.log(data);\r\n            if (res.status === 200) {\r\n                dispatch({ type: \"RE_RENDER\", payload: Date.now() })\r\n                setNewMessage('')\r\n            }\r\n        }\r\n    }\r\n    \r\n\r\n   \r\n    const getConversations = async () => {\r\n        try {\r\n            const res = await fetch('/api/conversation/' + user, {\r\n                method:\"get\"\r\n            })\r\n            const data = await res.json()\r\n            // console.log(data);\r\n            setConversations(data.message);\r\n        } catch (err) {\r\n            console.log(err.message);\r\n        }\r\n    }\r\n    \r\n    const getMessages = async () => {\r\n        try {\r\n            const res = await fetch('/api/messages/' + currentChat, {\r\n                method:\"get\"\r\n            })\r\n            const data = await res.json()\r\n            // console.log(data);\r\n            setMessages(data.message);\r\n        } catch (err) {\r\n            // console.log(err.message);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n       getConversations() \r\n       getMessages()\r\n        setTimeout(() => {\r\n            scrollBottom.current?.scrollIntoView({behaviour:\"smooth\"})\r\n        },500)\r\n    }, [isFecthing])\r\n\r\n// connect socket     \r\n  useEffect(() => {\r\n    // const socket = io(\"http://localhost:5000\")// connected socekt with client\r\n    // socket.on(\"welcome\", data => {\r\n    //   console.log('Socket : ',data);\r\n    // });\r\n      \r\n    // add user\r\n      socket.emit(\"addUser\", user)\r\n      socket.on(\"getUsers\", (users) => {\r\n        console.log(users);\r\n        setOnlineUsers(users?.map(e=>e.userId)?.filter(i=>i!==user));\r\n      })\r\n\r\n      //get message\r\n      socket.on(\"getMessage\", (data) => {\r\n        //   console.log(data);\r\n          setArrivalMessage({\r\n              senderId: data.senderId,\r\n              text: data.text,\r\n              createddAt:Date.now(),\r\n          })\r\n        // setTimeout(() => {\r\n        //     // dispatch({ type: \"RE_RENDER\", payload: Date.now() })\r\n        //     scrollBottom.current?.scrollIntoView({behaviour:\"smooth\"})\r\n        // }, 200)\r\n      })\r\n      \r\n  }, [socket]);\r\n    \r\n    useEffect(() => {\r\n        console.log(arrivalMessage);\r\n        arrivalMessage && conversations?.members?.includes(arrivalMessage.senderId)\r\n        messages?.length && setMessages([...messages, arrivalMessage])\r\n        dispatch({type:\"RE_RENDER\",payload:Date.now()})\r\n    }, [arrivalMessage])\r\n    \r\n    return (\r\n        <div>\r\n            <Helmet>\r\n                <title>Messages | MukhBoi</title>\r\n            </Helmet>\r\n            <div className=\"messengerContainer\">\r\n                \r\n                {/* chat menu left  */}\r\n                <div className=\"chatMenu\">\r\n                    <div className=\"chatMenuWrapper\">\r\n                        <h2 className=\"chatLogo\">Chat</h2>\r\n                        <input className=\"searchMessenger\" type=\"text\" placeholder=\"Search Messenger\"/>\r\n                        {\r\n                             conversations?\r\n                             conversations.length>=1?conversations.map((conversation) =>(\r\n                                <NavLink activeClassName=\"navActive\" to={`/messages/${conversation._id}`} onClick={() => {\r\n                                    setCurrentChat(conversation._id)\r\n                                    setNewMessage('')\r\n                                    dispatch({type:\"RE_RENDER\",payload:Date.now()})\r\n                                }}>\r\n                                    <Conversation currentUser={user} conversation={conversation} />\r\n                                </NavLink>\r\n                            )):<h2 style={{color:'gray',userSelect:'none'}}>No user found! Search Your Friends...🤷‍♀️</h2>\r\n                            :<h1>Loading...</h1>\r\n                        }\r\n                    </div>\r\n                </div>\r\n\r\n                {/* chat box middle */}\r\n                <div className=\"chatBox\">\r\n                    {\r\n                        currentChat ? (\r\n                        <>                    \r\n                            {/* chat box top  */}\r\n                            <div className=\"chatBoxTop\">\r\n                                <div className=\"messageTopWrapper\">\r\n                                    <img className=\"messageTopImg\" src=\"../images/person5.jpg\" alt=\"\" />\r\n                                    <div className=\"messageTopInfo\">\r\n                                        <span className=\"messageTopName\">\r\n                                            Sajidul Islam\r\n                                        </span>\r\n                                        <span className=\"messageTopStatus\">\r\n                                            Active Now\r\n                                        </span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* chat box middle messages  */}\r\n                            <div className=\"messages\">\r\n                                {\r\n                                    messages?\r\n                                    messages.length?(messages.map((m,i)=>\r\n                                        <div ref={scrollBottom}>\r\n                                        <Message key={i} message={m} own={m?.senderId===user?'own':''}/>\r\n                                        </div>\r\n                                    )):<h1 style={{display: 'flex', justifyContent: \"center\", alignItems:'center',height:'100%'}}>No message😪</h1>\r\n                                    : <h1 style={{display: 'flex', justifyContent: \"center\", alignItems:'center',height:'100%'}}>Loading...</h1>\r\n                                }\r\n                            </div>\r\n\r\n                            {/* chat box bottom input  */}\r\n                            <div className=\"chatBoxBottom\">\r\n                                <form onSubmit={handleSubmit}>\r\n                                    <input onChange={(e)=>setNewMessage(e.target.value)} value={newMessage} className=\"chatBoxInput\" type=\"text\" placeholder=\"Type Message...\" />\r\n                                    <label htmlFor=\"submit\">\r\n                                        <Send className=\"submitButton\" />\r\n                                    </label>\r\n                                    <input style={{display:'none'}} type=\"submit\" id=\"submit\" />\r\n                                </form>\r\n                            </div>\r\n                        </>\r\n                        ):<span className=\"noChatUser\">Please select a user to start the conversation...😐</span>\r\n                    }\r\n                </div>\r\n\r\n                {/* chat online right */}\r\n                <div className=\"chatOnline\">\r\n                    <div className=\"chatOnlineWrappper\">\r\n                        <h3>Online Users</h3>\r\n                        <ChatOnline onlineUsers={onlineUsers} user={user}/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Messenger\r\n","import React from 'react'\r\nimport { Helmet } from 'react-helmet'\r\n\r\nconst Error = () => {\r\n    return (\r\n        <div>\r\n            <Helmet>\r\n                <title>404 | Page not found</title>\r\n            </Helmet>\r\n            <h1 style={{marginTop:\"10rem\",fontSize:\"4rem\",textAlign:\"center\"}}>404...Oops!!! Page is not found</h1>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Error","import './index.css'\nimport { useEffect,useState } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport Login from './componetns/login/Login';\nimport Topbar from './componetns/topbar/Topbar';\nimport Home from './pages/home/Home';\nimport { Profile } from './pages/profile/Profile';\nimport PrivateRoute from \"./componetns/private/PrivateRoute\";\nimport RouterLinks from \"./componetns/private/RouterLinks\";\nimport Messenger from \"./componetns/messenger/Messenger\";\nimport Error from \"./componetns/error/Error\";\n\n// SCROLL TO TOP WHILE ROUTING\nconst ScrollTop = () => {\n  \n  const { pathname } = useLocation();\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [pathname]);\n\n  return null\n}\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <ScrollTop/>\n    <div className=\"App\">\n      <Topbar />\n      <Switch>\n          <PrivateRoute exact path='/' component={Home}/>\n          <PrivateRoute exact path='/profile/:id' component={Profile}/>\n          <PrivateRoute exact path='/messages/:id?' component={Messenger}/>\n          <RouterLinks exact path='/login' component={Login} />\n          <Route exact component={Error} />\n      </Switch>      \n    </div>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport {AuthContextProvider} from './context/AuthContext'\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthContextProvider>\n      <App />\n    </AuthContextProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}